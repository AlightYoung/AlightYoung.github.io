(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{456:function(t,r,a){"use strict";a.r(r);var e=a(2),s=Object(e.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h3",{attrs:{id:"环境准备"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[t._v("#")]),t._v(" 环境准备")]),t._v(" "),r("ul",[r("li",[t._v("centos7本地虚拟机")]),t._v(" "),r("li",[t._v("3g内存")]),t._v(" "),r("li",[t._v("jdk1.8")]),t._v(" "),r("li",[t._v("MySQL 5.7")])]),t._v(" "),r("h3",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),r("p",[t._v("以下内容只有最简单的本地测试教程，不包括很多细节，如果是准备解决一些细节性问题，还是参考"),r("a",{attrs:{href:"https://github.com/ctripcorp/apollo/wiki/%E5%88%86%E5%B8%83%E5%BC%8F%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"数据库创建"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#数据库创建"}},[t._v("#")]),t._v(" 数据库创建")]),t._v(" "),r("p",[t._v("首先需要部署两个数据库。")]),t._v(" "),r("p",[t._v("官方提供了sql文件，直接导入就行了。")]),t._v(" "),r("p",[t._v("创建apolloportaldb的sql文件\n"),r("a",{attrs:{href:"https://github.com/ctripcorp/apollo/blob/master/scripts/sql/apolloportaldb.sql",target:"_blank",rel:"noopener noreferrer"}},[t._v("apolloportaldb.sql"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("创建apolloconfigdb的sql文件\n"),r("a",{attrs:{href:"https://github.com/ctripcorp/apollo/blob/master/scripts/sql/apolloconfigdb.sql",target:"_blank",rel:"noopener noreferrer"}},[t._v("apolloconfigdb.sql"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"获取安装包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#获取安装包"}},[t._v("#")]),t._v(" 获取安装包")]),t._v(" "),r("p",[t._v("这里放已经打包好的安装的，官方还提供了源码构建方式")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/ctripcorp/apollo/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载地址"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("这里主要下载这三个文件")]),t._v(" "),r("div",{staticClass:"language-xml line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-xml"}},[r("code",[t._v("apollo-adminservice-*.*.*-github.zip\napollo-configservice-*.*.*-github.zip\napollo-portal-*.*.*-github.zip\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br")])]),r("p",[t._v("接下来就要解压修改配置文件")]),t._v(" "),r("p",[t._v("这三个文件夹里面都有"),r("code",[t._v("config/application-github.properties")]),t._v(",里面需要配置数据库链接，用户名，密码，改成自己的就行了。")]),t._v(" "),r("p",[t._v("还有个"),r("code",[t._v("meta service")]),t._v("没配置(portal里面)，因为主要是本地测试，我就没改，需要的可以看官方文档。")]),t._v(" "),r("h3",{attrs:{id:"部署"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[t._v("#")]),t._v(" 部署")]),t._v(" "),r("p",[t._v("部署其实挺简单的（不配置jvm参数什么的）,丢到服务器里去就行了。")]),t._v(" "),r("p",[t._v("刚才的三个文件夹，里面都有"),r("code",[t._v("scripts")])]),t._v(" "),r("p",[t._v("里面都有"),r("code",[t._v("startup.sh")]),t._v("和"),r("code",[t._v("shutdown.sh")])]),t._v(" "),r("p",[t._v("但是sftp丢进去可能没有execute权限，在"),r("code",[t._v("scripts")]),t._v("下执行"),r("code",[t._v("chmod +x s*")]),t._v("就行了。")]),t._v(" "),r("p",[t._v("这三个进程跑起来就可以通过ip：8080看到eureka的web界面，ip：8070进入apollo的web管理界面，默认用户名是apollo，密码是admin，之后的创建配置文件，和springcloud的整合就不多赘述了。")]),t._v(" "),r("p",[t._v("over！")])])}),[],!1,null,null,null);r.default=s.exports}}]);